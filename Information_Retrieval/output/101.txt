<HTML><HEAD><TITLE>OfflineProgrammingandRobotCalibration-TheCarIndustry</TITLE></HEAD><bodybackground=''paper3.gif''><H1>OfflineProgrammingandRobotCalibration-TheCarIndustry</H1><P>Themajorusersofrobotshavetraditionallybeenthecarcompanieswhoseproductisuniqueinthatstartsasamassproducedsheetofmetalwhosecomplexityrequiresintensiveandadvancedautomationtechniqueswithashortset-uptime.</P><P>InNorthAmericathe'bigthree'carmakersareChrysler,Ford,andGeneralMotors.BasedinDetroitandelsewhereinthecontinentthesecompanieshavespentthepastfiveyearsinvestingheavilyinrobotsimulationandofflineprogramming.Theurgencyexertedbyanunexpecteddemandforthemostpopularmodelsaswellasalargeupturninconsumerspendingoncarshascreatedapressure-cookeratmosphereinDetroit.Hereproductionlinesaredesignedandbuiltandrunninginweeksormonthsandeveryofflineprogrammingtechniqueisexaminedcloselyforpotentialimprovementsinset-uptimeorproductionrate.</P><P>Oneofthemajorissueshereisthemovetowardsmoreandmoreaccuratespotandarcweldingtechniques.The2mmcar(whereeveryrobotweldiswithin2mmoftheintendedpositiononeverycarthatrollsoftheproductionline)istalkedofasakindofHolyGrailofcarproduction-andsomepeopleeventalkinhushedtonesofeventuallypushingthebarrierevenfurthertoachievethe1mmcar.Thishasfocusedattentiononthosetechniques,especiallyrobotcalibrationandfixturecalibration,thatwillleadtoahigheraccuracyofofflineprogramming.</P><P>Currentpracticeinvolvesseveralstagesfromsimulationtoofflineprogramming.Firstthecarismodelledinthecompany-wideCADsystem,oftenasophisticatedmainframebasedCADpackagelikeCATIAwhichcanhandlemodelsofthecompletecarandallthepartsthatmakeupthecar.Thenthefixturesaredesignedwhicharetopresentthepartstotheweldingrobotsinarepeatableandpredictablemanner.</P><P>Itisusuallyarequirementthatthefixtures,whicharecreatedbyspecialisttoolingcompaniesundercontract,are'certified'.Thismeansthatpointsonthefixturewhicharetoclampthepart,ortheblocksagainstwhichthepartareclamped,mustbemeasuredverypreciselyusinga3-dco-ordinatemeasuringdevice.Thesemeasurementsarereferredtoaco-ordinateframeonthecentrelineofthecarusingthreedatumpointsonthefixture.Thesethreedatumpointsgivetheposition(x,y,z,),orientation(a,b,c),andscalingfactorassociatedwiththefixture.</P><P>Themeasurementsareusuallyrecordedusingtwomanualtheodolitesandstandardtheodolitetriangulation.</P><P>Anotheralternativetechniquethatpromisesevenhigheraccuraciesthanthoseachievedusingtheodolitesisnamedphotogrammetry.Photogrammetryusesseveralveryhighresolutionelectronic'photographs'ofatargetattachedtothefixturetakenfromdifferentanglestogetherwithstandardimage-processingtechniquestoderivethe3-dpositionofthetarget.Ithasatechniquethathaslongbeenusedinterrainmappingusingaerialphotographyandadvancedstereovisionbutisonlynowfindinganapplicationdownontheshopfloor.</P><P>Thefirstfixtureistheninstalledontheproductionline,andfromthisthepositionofthefirstrobotisdefined,againusingtheodolites.Thepositionofthefirstfixturethendefinesthepositionofthesecondfixture,andsoon,allthewaydowntheproductionline.</P><P>ThesimulationoftherobotprogrammeshasusuallybeencompletedbythisstageusingmodelsimportedfromtheCADsystemandoff-the-shelfrobotmodelspurchasedfromthesimulationvendor.MoreandmoreofthesimulationfunctionalityisavailableontheCADsystem:forexampleco-ordinateframesrepresentingthepositionandorientationofspot-weldsandapproachpointsand'weld-schedules'indicatingthemotiontypeandspeedbetweenpointscanbedefinedinCATIAbeforeexportingthemodeltothesimulation.</P><P>Thesimulationisusedtocheckthattherobotscanreachalltherequiredpositions.Thewristjointlimitsoftherobotoftenlimittheorientationsthatareachievableandthesimulationusermustworkcreativelytopositiontherobotbaseandtherobottool.Aparticularpositionandorientationmaynotbeachievableinagivenrobotconfiguration,forexamplewiththewristpointingdownorwiththeelbowpointingup.Theconfigurationoftherobotmodelcanbechangedbydrivingtherobotusingjointmotionintoadifferentconfigurationbeforeattemptingthemovement.</P><P>Thesimulationenablestheusertoplancollisionfreepathsaroundtheclampsholdingthepartusingviapointswhichmustbecreatedinsuchawaythattheydonotaddexcessivelytotheoverallcycletime.Thisisthereasonthatissoimportanttoderivereasonablyaccuratecycletimesfromthesimulation.Unfortunately,therobotcompaniesconsiderthemotionalgorithmsusedbytheirrobotcontrollerstobeofsuchcommercialvaluethattheywillalwaysrefusetoreleasethesetothesimulationvendors.Acompromisepositionhasbeenreachedbetweenthesimulationvendorsandtherobotvendors(thankstothestrongencouragementofthecarcompaniesinAmericaandinGermany)where'blackboxes'(unreadablepartsoftherobotcontrollersoftware)areinterfacedtotherobotsimulationtogiveaccuratecycletimes.Oncethecycletimesareaccuratetheusermayalsohavereasonableconfidencethatthetrajectoriesbetweenpointsshownbythesimulationareaccurate,andthereforethatthecollisionandnear-missinformationprovidedbythesimulationisreliable-akeyissueifsimulationistobetrustedbythoseontheshop-floor.</P><P>Downloadingtherobotprogrammes(sometimescalled'tracks')fromthesimulationtotherobotcontrollerinvolvestakingadisccontainingtheprogramme,teachpoint,andtoolframefilesfromtheair-conditionedofficeswheretheCADandsimulationspecialistworkdownontothemuchharsherandunforgivingenvironmentofthefactory.Itisherethatmostadvocatesofsimulationandofflinehavearudeawakening.Programmesthatworkfineinthe'virtualreality'environmentoftherobotsimulationseldomworkintheuncertainandunpredictableandsubtlydifferentrealworld.</P><P>Robotsaredesignedtobeextremelyrepeatablebutnotallthataccurate(repeatabilitiesof0.1mmandaccuraciesof10mmorworsearenotunusual).Tounderstandthedifferencebetweenrepeatabilityandaccuracyimagineadartsgame.Thefirstplayerisplayingwithnewdartsandsoaimsforatriple20butinsteadputsallthedartsinthenumber6,withallthreedartsclosetogether.Thedartsarerepeatablebutnotveryaccurate.Theseconddartsplayer,playingwithhisowntriedandtestedsetofdarts,throwsthreetreble20s.Hisdartsarenotonlyrepeatable,buttheyarealsoaccurate.Toincreasetheaccuracyoftherobottowardsthesameorderasitsrepeatabilityitmustbecalibrated.Eachrobothasitsownindividualsignaturecreatedbythemanufacturingtolerancesinvolvedinmakingrobotsandbythewearandtearofcrashingtherobotintofixtures(analltoregularoccurrence)andworse.Thissignaturecanbedetectedbymeasuringthe3dco-ordinatesoftherobotoverarangeofpositionsandorientationsthroughoutitsenvelopeandthenusingcalibrationsoftwaretoproduceamoreaccuratecustommodeloftherobot.</P><P>Themeasuringdevicesusedontheshopfloorforrobotcalibrationmustbecheapandrelativelyeasyandquicktouse,sinceupto50measurementsmayberequiredforeachrobot.Robotrakconsistofthreedrumswhichmaybeplacedanywhereintheworkcellfromwhichthreecordsareextendedtomeetattheendpointoftherobot.Thelengthofthecordisindicatedbytherotationofthedrum,andfromthethreelengthsthex,y,zpositionoftheendpointoftherobotmaybecalculatedandrecordedtowithinarepeatabilityof0.3mm.Ifahigheraccuracyisrequiredthenalaser-trackernamedSmartmaybeused.Smartisthenextgenerationoftheodolite:ittrackstargetsautomaticallywithoutanymanualintervention.ThekeytoSmartisalaserinterferometerthatmeasuresdistanceverypreciselysothattogetherwiththetwoanglesrepresentingthedirectionthatSmartispointingitselfitispossibletocalculatethex,y,zpositionofapointinsteadofhavingtouse2conventionaltheodolitesandtriangulation.Smartisaccuratetoabout0.025mmthoughthisdegradesto0.050mmundershopfloorconditionsoftemperaturechange,vibration,andlargevehiclestrundlingpast.RobotSimulationsLtd,whoofferRobotrakandSmartforusewiththeirWorkspacerobotsimulation,calibration,andofflineprogrammingsoftwaresuggestthatcustomersrequiringaccuraciescirca.1mmshoulduseRobotrak,whilecustomersrequiringaccuraciesmuchlowerthan1mmshoulduseSmart.</P><P>Oncetherobothasbeencalibrateditcanbeusedwithapointerofknownlengthasanaccuratemeasuringdevicetorecordthepositionofthefixturedatumpoints.This'3-pointtouch-up'isoftenmistakenforrobotcalibration,butisreallyonlyusedforpositioningthemodelofthefixturecorrectlyrelativetotherobotmodelwithinthesimulationandtherebyavoidingoneofthepitfallsofofflineprogramming.</P><P>Finally,thecorrecttooloffsetmustbedefinedontherobotcontrollerandontherobotsimulation.Ifthedimensionsofthetoolarewellknownthenthisisastraightforwardprocess,butifthetooldimensionsareunknownorifthetoolisslightlybentbecauseofacollisionthathasoccurredontheshopfloorthenatoolcalibrationmustbecarriedout.</P><P>Therobotprogrammecreatedbythesimulationisreallyonlyreadyfordownloadingtotherobotoncealltheaboveproceduresarecomplete.</P><P>Ifoneofthesestepsisignoredorbadlyimplementedthentheresultingprogrammecanbeanythingfrom2inchestoafootout,dependingontheseriousnessofthemistakesinvolved.Thisiswheremostofthehorrorstoriesinvolvingrobotsimulationandofflineprogrammingoriginate:'wetookaprogrammefrom....anddownloadedittotherobotandtherobotdrovestraightintothefixture'or'wecreated120offlineprogrammesforthewholeproductionlineandnotoneworkedfirsttime-theyallneededtobetouchedupbyhand'.</P><P>Thefinalsourceoferrorinofflineprogrammingisasimplelogisticone:bythetimethesimulationisfinishedandreadyforofflineprogrammingtherealworkcellmaybeenredesigned,turntableshavebeenintroducedorremoved,additionalrobotshavebeeninserted.Onlynowitstoolatetogobackandsimulatebecausethesimulationofficeisworkingonsimulationsforthenextproductionline.Thesimplestwaytoavoidthissituationistomakecertainofthefollowing:</P><P>1.Onepersonisresponsibleforthesimulationfromstarttofinish(thefinishbeingwhentheproductionlineisupandrunningsmoothlyandtherearenomorechanges);</P><P>2.Thesimulationgoesdownontotheshopfloorwiththeofflineprogrammewherelastminutechangescanbeimmediatelyintroducedintothesimulation.Microcomputerbasedrobotsimulationpackageswhichcanrunonnotebooksmeanthatnobodyhasanexcuseforleavingthesimulationupinthedesignofficeinsteadoftakingitdownontotheshopfloorwhereitisreallyneeded.</P><P>Sowithallthesepotentialpitfallsandinaccuraciesinrobotsimulationandofflineprogramming,isitreallyworthattempting?Ifyouwanttheanswer,cometoDetroit.Thecarcompanieswillnotspendmoneyonanytechnologythatdoesn'tproducesavingsthatcanbemeasuredinDollarsandCents,andtheyseerobotsimulationandofflineprogrammingastherevolutionarytechnologythatwillenablethemtobuildmorecars,quickerandatalowercostthaneverbefore.WhattheBigThreeareusingtoday,therestofusinmanufacturingwillbeimplementingtomorrow.</P>JohnOwens<BR>TechnicalDirector<BR>RobotSimulationsLtd<BR><center><IMGSRC=''line_col.gif''ALT=''[IMAGE]''></img></center><PALIGN=center><AHREF=''index.htm''><IMGSRC=''home.gif''ALT=''[IMAGE]''></a>[<AHREF=''index.htm''>ReturntoHomePage</A>]</P><center><IMGSRC=''line_col.gif''ALT=''[IMAGE]''></img></center><center><h6><b>Workspace</b>and<b>Robotrak</b>areregisteredtrademarksofRobotSimulationsLtd.</h6><h6>Copyright&copy;1996RobotSimulationsLtd</h6><h6>Lastrevision3April1996</h6></center></P></BODY></HTML>